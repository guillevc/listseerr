[tools]
  bun = "1.3.4"

[tasks.docker-build]
  run = [
    "docker build -t listseerr .",
    "docker images listseerr | awk 'NR==2 {print \"ğŸ“¦ Image size: \" $7}'",
    "echo 'âœ… Docker build successful!' 1>/dev/null"
  ]


[tasks.docker-run]
  run = [
    "echo 'ğŸš€ Starting container...' 1>/dev/null",
    "docker run -p 3000:3000 -v $(pwd)/data:/app/data listseerr",
    "echo 'Container stopped.' 1>/dev/null"
  ]

[tasks.docker-ci]
  run = [
    "docker build -f docker/Dockerfile.ci -t listseerr-ci .",
    "docker images listseerr-ci | awk 'NR==2 {print \"ğŸ“¦ Image size: \" $7}'",
    "docker rmi listseerr-ci",
    "echo 'âœ… CI image build and cleanup successful!'"
  ]
